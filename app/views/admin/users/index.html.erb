<h1><%= t('.title') %></h1>
<% if @user && @user.errors.any? %>
  <div class="error_explanation">
    <h4 class="alert-heading">アカウント削除に失敗しました</h4>
    <ul>
      <% @user.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
    </ul>
  </div>
<% end %>
<table class="table">
  <thead>
    <tr>
      <th scope="col"><%= t("activerecord.attributes.user.name") %></th>
      <th scope="col"><%= t("activerecord.attributes.user.email") %></th>
      <th scope="col"><%= t("activerecord.attributes.user.admin") %></th>
      <th scope="col"><%= t("タスク数") %></th>
      <th scope="col"></th>
      <th scope="col"></th>
      <th scope="col"></th>
    </tr>
  </thead>
  <tbody>
    <% @users.each do |user| %>
      <tr>
        <td scope="row"><%= user.name %></td>
        <td scope="row"><%= user.email %></td>
        <td scope="row"><%= user.admin ? t('helpers.boolean.true') : t('helpers.boolean.false')  %></td>
        <td scope="row"><%= user.tasks.size %></td>
        <td scope="row"><%= link_to t('common.show'), admin_user_path(user), class:"show-user" %></td>
        <td scope="row"><%= link_to t('common.edit'), edit_admin_user_path(user), class:"edit-user" %></td>
        <td scope="row"><%= link_to t('common.destroy'), admin_user_path(user), class:"destroy-user", method: :delete, data: { confirm: t('common.confirm_destroy') } %></td>
      </tr>
    <% end %>
  </tbody>
</table>